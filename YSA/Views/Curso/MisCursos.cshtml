@model List<YSA.Web.Models.ViewModels.CursoViewModel>

@{
    ViewData["Title"] = "Mis Cursos";
}

<style>
    /* VARIABLES DE COLOR (Estricto Blanco/Negro/Gris) */
    :root {
        --color-primary: #333333; /* Gris Oscuro (Para botones, textos y acentos) */
        --color-secondary: #000000; /* Negro Puro (Para títulos) */
        --color-text-muted: #6a6a6a; /* Gris medio (Texto secundario) */
        --color-background-light: #f7f7f7; /* Fondo muy claro para la página */
        --color-background-white: #ffffff; /* Fondo blanco para las tarjetas */
        --color-border-light: #eeeeee; /* Borde sutil */
    }

    /* Estilos globales */
    body {
        background-color: var(--color-background-light);
        color: var(--color-primary);
        font-family: 'Poppins', sans-serif;
    }

    .container h2 {
        color: var(--color-secondary) !important;
        font-weight: 700;
        /* MEJORA RESPONSIVE: Ajuste de tamaño de fuente del título principal */
        font-size: 2rem; /* Tamaño base para móvil */
    }

    /* MEJORA RESPONSIVE: Media Query para el título en pantallas grandes */
    @@media (min-width: 768px) {
        .container h2 {
            font-size: 2.5rem;
        }
    }

    hr {
        border-top: 2px solid var(--color-border-light);
        opacity: 1;
        margin-bottom: 2rem;
    }

    /* Estilos para las tarjetas de curso */
    .card {
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        border-radius: 12px;
        border: 1px solid var(--color-border-light); /* Borde nítido */
        overflow: hidden;
        background-color: var(--color-background-white);
        color: var(--color-primary);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1) !important;
        }

    .card-img-top {
        /* MEJORA RESPONSIVE: Ajuste de altura para móvil (un poco menos dominante) */
        height: 180px;
        object-fit: cover;
        width: 100%;
    }

    /* Contenido de la tarjeta */
    .card-body h5 {
        font-weight: 600;
        color: var(--color-secondary);
        /* MEJORA RESPONSIVE: Ajuste de tamaño del título de la tarjeta para móvil */
        font-size: 1.25rem;
    }

    .card-text {
        font-size: 0.9em; /* Ligeramente más pequeño para mejor lectura en móviles */
        color: var(--color-text-muted);
        line-height: 1.5;
        /* MEJORA RESPONSIVE: Limitar la descripción a 3 líneas para tarjetas uniformes */
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* MEJORA RESPONSIVE: Media Query para títulos de tarjeta en pantallas grandes */
    @@media (min-width: 768px) {
        .card-img-top {
            height: 200px; /* Vuelve a la altura original en desktop */
        }

        .card-body h5 {
            font-size: 1.35rem; /* Vuelve al tamaño original en desktop */
        }
    }


    /* Botón de Acción (Ver Curso) - Estilo B&N */
    .btn-primary {
        background-color: var(--color-primary); /* Gris Oscuro */
        border-color: var(--color-primary);
        color: white;
        font-weight: 600;
        padding: 10px 15px;
        border-radius: 8px;
        transition: background-color 0.2s, color 0.2s;
    }

        .btn-primary:hover {
            background-color: var(--color-secondary); /* Negro puro al hacer hover */
            border-color: var(--color-secondary);
            color: white; /* Aseguramos texto blanco */
        }

    .alert-info {
        background-color: #f0f0f0;
        color: var(--color-primary);
        border-color: #cccccc;
        border-radius: 8px;
        margin-top: 3rem;
    }
</style>

<div class="container mt-5 mb-5 pb-5">
    <h2 class="text-center mb-4">Mis Cursos</h2>
    <hr />

    @if (Model == null || !Model.Any())
    {
        <div class="alert alert-info text-center" role="alert">
            Aún no te has inscrito en ningún curso. Explora nuestro catálogo y empieza a aprender.
        </div>
    }
    else
    {
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 pb-5 mb-5">
            @foreach (var curso in Model)
            {
                <div class="col">
                    <div class="card h-100">
                        @if (!string.IsNullOrEmpty(curso.UrlImagen))
                        {
                            <img src="@curso.UrlImagen" class="card-img-top" alt="Imagen del curso: @curso.Titulo">
                        }
                        else
                        {
                            <img src="https://via.placeholder.com/400x200/F7F7F7/333333?text=Sin+Imagen" class="card-img-top" alt="Imagen de marcador de posición">
                        }
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">@curso.Titulo</h5>
                            <p class="card-text flex-grow-1">@Html.Raw(curso.DescripcionCorta)</p>
                            <div class="d-grid mt-3">
                                <a asp-controller="Curso" asp-action="VerCurso" asp-route-id="@curso.Id" class="btn btn-primary">
                                    <i class="fas fa-chalkboard-teacher me-2"></i> Ir al Curso
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>