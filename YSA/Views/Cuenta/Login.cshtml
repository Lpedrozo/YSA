@model YSA.Web.Models.ViewModels.LoginViewModel

@{
    ViewData["Title"] = "Iniciar Sesión";
}

<style>
    /* ------------------------------------- */
    /* 1. Paleta Monocromática               */
    /* ------------------------------------- */
    :root {
        --color-main-bg: #f8f8f8;
        --color-card-bg: #ffffff;
        --color-primary-action: #000000;
        --color-text-dark: #212529;
        --color-text-subtle: #6c757d;
        --color-border: #ced4da;
        --color-error: #dc3545;
    }

    /* Contenedor principal: Flexbox y altura mínima */
    .main-container-dual {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: var(--color-main-bg);
        /* Reducimos el padding vertical general de 3rem a 2rem */
        padding: 2rem;
        font-family: Arial, sans-serif;
    }

    /* Contenedor central de las dos tarjetas */
    .dual-card-wrapper {
        display: flex;
        max-width: 1000px;
        width: 100%;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15);
    }

    /* ------------------------------------- */
    /* 2. Panel de Contenido (Izquierda)     */
    /* ------------------------------------- */
    .content-panel-mono {
        flex: 1;
        background-color: var(--color-text-dark);
        color: #ffffff;
        /* Reducimos el padding interno de 3rem a 2rem */
        padding: 2rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .panel-title {
        font-size: 2rem; /* Ligeramente más pequeño */
        font-weight: 700;
        margin-bottom: 1rem; /* Menos margen */
        border-bottom: 2px solid #ffffff;
        padding-bottom: 0.5rem;
    }

    .panel-text {
        font-size: 1rem; /* Ligeramente más pequeño para ahorrar espacio */
        line-height: 1.5;
        color: #e9ecef;
        margin-bottom: 1rem; /* Menos margen entre párrafos */
    }

    /* ------------------------------------- */
    /* 3. Tarjeta de Login (Derecha)         */
    /* ------------------------------------- */
    .login-card-mono {
        flex: 1;
        background-color: var(--color-card-bg);
        /* Reducimos el padding interno de 3rem a 2rem */
        padding: 2rem;
    }

    /* Título del Login */
    .login-title-mono {
        font-size: 1.8rem; /* Reducción para ahorrar espacio */
        font-weight: 700;
        color: var(--color-text-dark);
        margin-bottom: 0.8rem; /* Menos margen */
    }

    .login-header-image {
        max-width: 100%;
        height: auto;
        border-radius: 6px;
        margin-bottom: 1.5rem; /* Menos margen vertical */
        display: block;
        border: 1px solid var(--color-border);
    }

    /* Inputs y Botón */
    .form-group-vertical {
        margin-bottom: 1rem; /* Reducción de 1.5rem a 1rem */
    }

    .form-label-mono {
        display: block;
        width: 100%;
        font-weight: 600;
        color: var(--color-text-dark);
        margin-bottom: 0.3rem; /* Reducción de 0.4rem a 0.3rem */
        font-size: 0.9rem; /* Ligeramente más pequeño */
    }

    .form-control-mono {
        background-color: #ffffff;
        border: 1px solid var(--color-border);
        color: var(--color-text-dark);
        border-radius: 6px;
        height: 44px; /* Ligeramente más corto de 48px */
        padding: 0.5rem 1rem;
        width: 100%;
        transition: border-color 0.2s, box-shadow 0.2s;
    }

    .btn-mono-primary {
        width: 100%;
        background-color: var(--color-primary-action);
        color: #ffffff;
        border: none;
        border-radius: 6px;
        padding: 0.7rem 1.25rem; /* Menos padding */
        font-weight: 700;
        letter-spacing: 0.5px;
        transition: background-color 0.2s;
        margin-top: 1rem; /* Menos margen superior */
    }

    .link-mono-subtle {
        color: var(--color-text-subtle);
        font-weight: 500;
        text-decoration: none;
        font-size: 0.85rem; /* Más pequeño */
        transition: color 0.2s;
        display: block;
        margin-top: 0.4rem;
    }

    .form-footer-separator {
        margin-top: 1rem; /* Reducción de 2rem a 1rem */
        padding-top: 1rem; /* Reducción de 1.5rem a 1rem */
        border-top: 1px solid var(--color-border);
        text-align: center;
    }

    /* Media Query para móvil se mantiene */
    @@media (max-width: 768px) {
        .dual-card-wrapper {
            flex-direction: column;
            max-width: 420px;
        }

        .content-panel-mono {
            padding: 1.5rem;
            text-align: center;
        }

        .login-card-mono {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            padding: 1.5rem;
        }

        .panel-title {
            font-size: 1.8rem;
        }

        .panel-text {
            font-size: 0.95rem;
        }
    }
</style>

<div class="main-container-dual">
    <div class="dual-card-wrapper">

        <div class="content-panel-mono">
            <h2 class="panel-title">Tu futuro, tu aprendizaje.</h2>

            <p class="panel-text">
                En YSA, no solo ofrecemos cursos; creamos caminos. Nuestra academia está diseñada para impulsarte desde cero hasta la maestría en tecnologías y habilidades blandas, asegurando que cada sesión te acerque a tus metas profesionales.
            </p>

            <p class="panel-text">
                Accede a recursos exclusivos, clases en vivo y una comunidad de mentores apasionados. Inicia sesión para retomar tu progreso, o regístrate para transformar tu potencial en éxito.
            </p>

            <p class="panel-text" style="font-weight: bold; margin-bottom: 0;">
                ¡La educación es la llave, y YSA es tu puerta!
            </p>
        </div>

        <div class="login-card-mono">
            <div class="text-center">
                <h1 class="login-title-mono">Inicia Sesión</h1>

                <img src="~/diseño/InicioSesionImagen.jpg"
                     alt="Imagen descriptiva del inicio de sesión"
                     class="login-header-image" />
            </div>

            <form asp-controller="Cuenta" asp-action="Login" method="post" class="login-form-custom">
                <div asp-validation-summary="ModelOnly" class="text-danger small mb-4 text-center"></div>

                <div class="form-group-vertical">
                    <label asp-for="Email" class="form-label-mono">Correo electrónico</label>
                    <input asp-for="Email" type="email" class="form-control-mono" placeholder="ejemplo@correo.com" required>
                    <span asp-validation-for="Email" class="text-danger small mt-1 d-block"></span>
                </div>

                <div class="form-group-vertical">
                    <label asp-for="Contrasena" class="form-label-mono">Contraseña</label>
                    <input asp-for="Contrasena" type="password" class="form-control-mono" placeholder="Tu contraseña" required>
                    <span asp-validation-for="Contrasena" class="text-danger small mt-1 d-block"></span>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn-mono-primary">
                        ACCEDER
                    </button>
                </div>

                <div class="text-center mt-3">
                    <a href="#" class="link-mono-subtle">¿Olvidaste tu contraseña?</a>
                </div>

                <div class="form-footer-separator">
                    <span class="text-footer-subtle">¿No eres miembro? </span>
                    <a href="~/Cuenta/Registro" class="link-mono-subtle">
                        Regístrate ahora
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('[data-valmsg-for]').forEach(span => {
                const inputId = span.getAttribute('data-valmsg-for');
                const input = document.getElementById(inputId);

                const observer = new MutationObserver(mutations => {
                    mutations.forEach(mutation => {
                        if (mutation.type === 'childList' || mutation.type === 'characterData') {
                            if (span.innerHTML.trim() !== "") {
                                input.classList.add('input-validation-error');
                            } else {
                                input.classList.remove('input-validation-error');
                            }
                        }
                    });
                });

                observer.observe(span, { childList: true, characterData: true, subtree: true });

                if (span.innerHTML.trim() !== "") {
                    input.classList.add('input-validation-error');
                }
            });
        });
    </script>
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}